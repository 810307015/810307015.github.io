import{d as Q,r as o,o as U,c as z,a as t,b as v,t as f,u as _,e as H,p as J,f as N,_ as V}from"./index-CTEeAdbm.js";const X="/assets/banner0-BDA8Jegz.jpeg",G="/assets/banner1-BjmfsuO_.jpeg",K="/assets/banner2-Ez8x-Uof.jpeg",Y="/assets/banner3-MwsgmJlo.jpeg",q="/assets/banner4-CouD_nGV.jpeg",W="/assets/banner5-CfacecH3.jpeg",Z="/assets/banner6-BgH283CM.jpeg",$="/assets/banner7-D420zjfe.jpeg",F="/assets/banner8-QjDr4MQa.jpeg",ee="/assets/banner9-DCJ7j_qt.jpeg",ae="/assets/banner10-DD3I5ZjI.jpeg",se="/assets/banner11-u1Bf9RPQ.jpeg",ne="/assets/banner12-BhxU6SEI.jpeg",te="/assets/banner13-BnX3byO6.jpeg",oe="/assets/banner14-BWKXeI4L.jpeg",ce="/assets/banner15-CTKRjI01.jpeg",re="/assets/banner16-CAO7YpX3.jpeg",le="/assets/banner17-DpGQOnvj.jpeg",x=[X,G,K,Y,q,W,Z,$,F,ee,ae,se,ne,te,oe,ce,re,le],R=g=>(J("data-v-baa966f4"),g=g(),N(),g),ie={class:"container"},ue={class:"masking"},de={class:"day",id:"day"},ve=R(()=>t("p",null,"愿余生都可四目相对",-1)),pe=R(()=>t("p",null,"余生只有彼此",-1)),he={class:"min"},ge={class:"hour",id:"hour"},be={class:"minute",id:"minute"},fe={class:"second",id:"second"},r=800,l=1200,M=24*3600*1e3,y=3600*1e3,k=60*1e3,_e=Q({__name:"MyLove",setup(g){const u=o(null),i=o(null),m=o(null),w=o([]),b=o(0),d=o(0),I=o(0),D=o(""),C=o(""),S=o(""),A=new Date("2021/09/15 12:40:00"),B=()=>{const a=+new Date-A,n=Math.floor(a/M),e=Math.floor(a%M/y),s=Math.floor(a%y/k),c=Math.floor((a-n*M-e*y-s*k)/1e3);I.value=n,D.value=e.toString().padStart(2,"0"),C.value=s.toString().padStart(2,"0"),S.value=c.toString().padStart(2,"0"),setTimeout(()=>{B()},1e3)},E=(a,n)=>{let e=0,s=0,c=0,p=0;const h=Math.max(r/a,l/n);return e=a*h,s=n*h,c=(r-e)/2,p=(l-s)/2,{dw:e,dh:s,dx:c,dy:p}},L=()=>{if(u.value&&x.length>0){const a=new Image;a.src=x[b.value],a.onload=()=>{const{dw:n,dh:e,dx:s,dy:c}=E(a.width,a.height);m.value.clearRect(0,0,r,l),m.value.drawImage(a,s,c,n,e),b.value<x.length-1?b.value++:b.value=0,setTimeout(()=>{L()},3e3)}}},T=()=>{w.value=new Array(8).fill(0).map(a=>({x:r/2-Math.random()*r,y:l/2-Math.random()*l}))},P=(a,n)=>{if(!i.value)return;const e=i.value.getContext("2d");e.save(),e.beginPath(),e.fillStyle=`rgba(247, 200, 207, ${d.value})`,e.translate(r/2-a,l/2-n),e.scale(d.value,-1*d.value),e.moveTo(0,0);let s=0,c=0,p=0,h=6;for(let j=0;j<30;j+=.2)s=j/Math.PI,c=h*(16*Math.sin(s)**3),p=h*(13*Math.cos(s)-5*Math.cos(2*s)-2*Math.cos(3*s)-Math.cos(4*s)),e.lineTo(c,p);e.fill(),e.closePath(),e.restore()},O=()=>{if(!i.value)return;i.value.getContext("2d").clearRect(0,0,r,l),w.value.map(n=>P(n.x,n.y)),setTimeout(()=>{d.value<.8?d.value+=.1:(d.value=0,T()),O()},100)};return U(()=>{u.value&&(u.value.width=r,u.value.height=l,m.value=u.value.getContext("2d"),L(),B()),i.value&&(i.value.width=r,i.value.height=l,T(),O())}),(a,n)=>(H(),z("main",ie,[t("canvas",{ref_key:"canvas",ref:u},"你的浏览器不支持canvas",512),t("canvas",{ref_key:"effectCanvas",ref:i,class:"effect-canvas"},"你的浏览器不支持canvas",512),t("div",ue,[t("p",null,[v("相爱"),t("span",de,f(_(I)),1),v("天")]),ve,pe,t("p",he,[v(" ("),t("span",ge,f(_(D)),1),v("小时 "),t("span",be,f(_(C)),1),v("分钟 "),t("span",fe,f(_(S)),1),v("秒) ")])])]))}}),je=V(_e,[["__scopeId","data-v-baa966f4"]]);export{je as default};
