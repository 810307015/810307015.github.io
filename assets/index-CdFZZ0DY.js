var V=Object.defineProperty;var R=(m,t,e)=>t in m?V(m,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):m[t]=e;var r=(m,t,e)=>R(m,typeof t!="symbol"?t+"":t,e);/* empty css             *//* empty css                  *//* empty css                 *//* empty css                        */import{_ as b,r as p,o as w,c as y,a as v,f as l,w as u,V as E,h as M,u as n,Y as k,Z as C,k as U,b as B,W as I,e as P}from"./index-BrD9HEJJ.js";class Y{constructor(t=300,e=150,s){r(this,"canvas");r(this,"ctx");r(this,"rects",[]);r(this,"draggingRect",null);r(this,"offsetX",0);r(this,"offsetY",0);r(this,"onMouseDown",t=>{const{x:e,y:s}=this.getMousePos(t);for(let d=this.rects.length-1;d>=0;d--){const o=this.rects[d];if(o.draggable&&this.isPointInRect(e,s,o)){this.draggingRect=o,this.offsetX=e-o.x,this.offsetY=s-o.y,this.rects.splice(d,1),this.rects.push(o);break}}});r(this,"onMouseMove",t=>{if(this.draggingRect){const{x:e,y:s}=this.getMousePos(t);this.draggingRect.x=e-this.offsetX,this.draggingRect.y=s-this.offsetY,this.redraw()}});r(this,"onMouseUp",t=>{this.draggingRect=null});this.canvas=document.createElement("canvas"),this.canvas.width=t,this.canvas.height=e,this.ctx=this.canvas.getContext("2d"),s&&s.appendChild(this.canvas),this.initEvents()}initEvents(){this.canvas.addEventListener("mousedown",this.onMouseDown),this.canvas.addEventListener("mousemove",this.onMouseMove),this.canvas.addEventListener("mouseup",this.onMouseUp),this.canvas.addEventListener("mouseleave",this.onMouseUp)}getMousePos(t){const e=this.canvas.getBoundingClientRect();return{x:t.clientX-e.left,y:t.clientY-e.top}}isPointInRect(t,e,s){return t>=s.x&&t<=s.x+s.width&&e>=s.y&&e<=s.y+s.height}addRect(t,e,s,d,o,a=!1){this.rects.push({x:t,y:e,width:s,height:d,color:o,draggable:a}),this.redraw()}clearRects(){this.rects=[],this.redraw()}redraw(){this.clear();for(const t of this.rects)this.fillRect(t.x,t.y,t.width,t.height,t.color)}clear(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)}fillRect(t,e,s,d,o){o&&(this.ctx.fillStyle=o),this.ctx.fillRect(t,e,s,d)}get element(){return this.canvas}}const L={__name:"index",setup(m){const t={x:0,y:0,w:0,h:0,color:"#ffffff",draggable:!0},e=p(t),s=p(),d=()=>{const{x:o,y:a,w:h,h:c,color:f,draggable:g}=e.value;s.value.addRect(o,a,h,c,f,g),e.value=t};return w(()=>{const o=document.getElementById("canvas-container");s.value=new Y(500,300,o),s.value.addRect(50,50,100,80,"red",!0),s.value.addRect(200,100,120,60,"blue",!0),s.value.addRect(100,200,80,40,"green",!1)}),(o,a)=>{const h=M,c=E,f=k,g=C,x=U,_=I;return P(),y("div",null,[a[7]||(a[7]=v("div",{id:"canvas-container",class:"container"},null,-1)),l(_,{form:n(e),inline:!0},{default:u(()=>[l(c,{label:"x"},{default:u(()=>[l(h,{placeholder:"x",min:"0",max:"500",modelValue:n(e).x,"onUpdate:modelValue":a[0]||(a[0]=i=>n(e).x=i)},null,8,["modelValue"])]),_:1}),l(c,{label:"y"},{default:u(()=>[l(h,{placeholder:"y",min:"0",max:"300",modelValue:n(e).y,"onUpdate:modelValue":a[1]||(a[1]=i=>n(e).y=i)},null,8,["modelValue"])]),_:1}),l(c,{label:"w"},{default:u(()=>[l(h,{placeholder:"w",min:"0",max:"500",modelValue:n(e).w,"onUpdate:modelValue":a[2]||(a[2]=i=>n(e).w=i)},null,8,["modelValue"])]),_:1}),l(c,{label:"h"},{default:u(()=>[l(h,{placeholder:"h",min:"0",max:"300",modelValue:n(e).h,"onUpdate:modelValue":a[3]||(a[3]=i=>n(e).h=i)},null,8,["modelValue"])]),_:1}),l(c,{label:"color"},{default:u(()=>[l(f,{modelValue:n(e).color,"onUpdate:modelValue":a[4]||(a[4]=i=>n(e).color=i)},null,8,["modelValue"])]),_:1}),l(c,{label:"draggable"},{default:u(()=>[l(g,{modelValue:n(e).draggable,"onUpdate:modelValue":a[5]||(a[5]=i=>n(e).draggable=i)},null,8,["modelValue"])]),_:1}),v("div",null,[l(x,{onClick:d},{default:u(()=>a[6]||(a[6]=[B("Add Rect")])),_:1,__:[6]})])]),_:1},8,["form"])])}}},T=b(L,[["__scopeId","data-v-07f86df5"]]);export{T as default};
