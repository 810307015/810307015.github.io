import{d as Q,r as o,o as U,c as z,a as t,b as u,t as f,u as _,e as H,p as J,f as N,_ as V}from"./index-Q2HtwMFe.js";const X="/assets/banner0-BDA8Jegz.jpeg",G="/assets/banner1-BjmfsuO_.jpeg",K="/assets/banner2-Ez8x-Uof.jpeg",Y="/assets/banner3-MwsgmJlo.jpeg",q="/assets/banner4-CouD_nGV.jpeg",W="/assets/banner5-CfacecH3.jpeg",Z="/assets/banner6-BgH283CM.jpeg",$="/assets/banner7-D420zjfe.jpeg",F="/assets/banner8-QjDr4MQa.jpeg",ee="/assets/banner9-DCJ7j_qt.jpeg",se="/assets/banner10-DD3I5ZjI.jpeg",ae="/assets/banner11-u1Bf9RPQ.jpeg",ne="/assets/banner12-BhxU6SEI.jpeg",te="/assets/banner13-BnX3byO6.jpeg",oe="/assets/banner14-BWKXeI4L.jpeg",ce="/assets/banner15-CTKRjI01.jpeg",re="/assets/banner16-CAO7YpX3.jpeg",le="/assets/banner17-DpGQOnvj.jpeg",x=[X,G,K,Y,q,W,Z,$,F,ee,se,ae,ne,te,oe,ce,re,le],R=g=>(J("data-v-ceb43f8c"),g=g(),N(),g),de={class:"container"},ie={class:"masking"},ue={class:"day",id:"day"},pe=R(()=>t("p",null,"愿余生都可四目相对",-1)),ve=R(()=>t("p",null,"余生只有彼此",-1)),he={class:"min"},ge={class:"hour",id:"hour"},be={class:"minute",id:"minute"},fe={class:"second",id:"second"},r=800,l=1200,M=24*3600*1e3,y=3600*1e3,k=60*1e3,_e=Q({__name:"MyLove",setup(g){const p=o(null),d=o(null),m=o(null),w=o([]),b=o(0),i=o(0),I=o(0),D=o(""),C=o(""),S=o(""),A=new Date("2021/09/15 12:40:00"),B=()=>{const s=+new Date-A,n=Math.floor(s/M),e=Math.floor(s%M/y),a=Math.floor(s%y/k),c=Math.floor((s-n*M-e*y-a*k)/1e3);I.value=n,D.value=e.toString().padStart(2,"0"),C.value=a.toString().padStart(2,"0"),S.value=c.toString().padStart(2,"0"),setTimeout(()=>{B()},1e3)},E=(s,n)=>{let e=0,a=0,c=0,v=0;const h=Math.max(r/s,l/n);return e=s*h,a=n*h,c=(r-e)/2,v=(l-a)/2,{dw:e,dh:a,dx:c,dy:v}},L=()=>{if(x.length>0){const s=new Image;s.src=x[b.value],s.onload=()=>{const{dw:n,dh:e,dx:a,dy:c}=E(s.width,s.height);m.value.clearRect(0,0,r,l),m.value.drawImage(s,a,c,n,e),b.value<x.length-1?b.value++:b.value=0,setTimeout(()=>{L()},3e3)}}},T=()=>{w.value=new Array(8).fill(0).map(s=>({x:r/2-Math.random()*r,y:l/2-Math.random()*l}))},P=(s,n)=>{const e=d.value.getContext("2d");e.save(),e.beginPath(),e.fillStyle=`rgba(247, 200, 207, ${i.value})`,e.translate(r/2-s,l/2-n),e.scale(i.value,-1*i.value),e.moveTo(0,0);let a=0,c=0,v=0,h=6;for(let j=0;j<30;j+=.2)a=j/Math.PI,c=h*(16*Math.sin(a)**3),v=h*(13*Math.cos(a)-5*Math.cos(2*a)-2*Math.cos(3*a)-Math.cos(4*a)),e.lineTo(c,v);e.fill(),e.closePath(),e.restore()},O=()=>{d.value.getContext("2d").clearRect(0,0,r,l),w.value.map(n=>P(n.x,n.y)),setTimeout(()=>{i.value<.8?i.value+=.1:(i.value=0,T()),O()},100)};return U(()=>{p.value&&(p.value.width=r,p.value.height=l,m.value=p.value.getContext("2d"),L(),B()),d.value&&(d.value.width=r,d.value.height=l,T(),O())}),(s,n)=>(H(),z("main",de,[t("canvas",{ref_key:"canvas",ref:p},"你的浏览器不支持canvas",512),t("canvas",{ref_key:"effectCanvas",ref:d,class:"effect-canvas"},"你的浏览器不支持canvas",512),t("div",ie,[t("p",null,[u("相爱"),t("span",ue,f(_(I)),1),u("天")]),pe,ve,t("p",he,[u(" ("),t("span",ge,f(_(D)),1),u("小时 "),t("span",be,f(_(C)),1),u("分钟 "),t("span",fe,f(_(S)),1),u("秒) ")])])]))}}),je=V(_e,[["__scopeId","data-v-ceb43f8c"]]);export{je as default};
