import{d as E,r as o,o as P,c as Q,a,b as v,t as f,u as m,e as U,_ as z}from"./index-BrD9HEJJ.js";const H="/assets/banner0-BDA8Jegz.jpeg",J="/assets/banner1-BjmfsuO_.jpeg",N="/assets/banner2-Ez8x-Uof.jpeg",V="/assets/banner3-MwsgmJlo.jpeg",X="/assets/banner4-CouD_nGV.jpeg",G="/assets/banner5-CfacecH3.jpeg",K="/assets/banner6-BgH283CM.jpeg",Y="/assets/banner7-D420zjfe.jpeg",q="/assets/banner8-QjDr4MQa.jpeg",W="/assets/banner9-DCJ7j_qt.jpeg",Z="/assets/banner10-DD3I5ZjI.jpeg",$="/assets/banner11-u1Bf9RPQ.jpeg",F="/assets/banner12-BhxU6SEI.jpeg",ee="/assets/banner13-BnX3byO6.jpeg",ne="/assets/banner14-BWKXeI4L.jpeg",se="/assets/banner15-CTKRjI01.jpeg",te="/assets/banner16-CAO7YpX3.jpeg",ae="/assets/banner17-DpGQOnvj.jpeg",x=[H,J,N,V,X,G,K,Y,q,W,Z,$,F,ee,ne,se,te,ae],oe={class:"container"},re={class:"masking"},le={class:"day",id:"day"},ce={class:"min"},ue={class:"hour",id:"hour"},ie={class:"minute",id:"minute"},de={class:"second",id:"second"},l=800,c=1200,M=24*3600*1e3,y=3600*1e3,O=60*1e3,ve=E({__name:"MyLove",setup(ge){const i=o(null),u=o(null),h=o(null),_=o([]),b=o(0),d=o(0),w=o(0),D=o(""),C=o(""),I=o(""),k=new Date("2021/09/15 12:40:00"),B=()=>{const s=+new Date-k,e=Math.floor(s/M),n=Math.floor(s%M/y),t=Math.floor(s%y/O),r=Math.floor((s-e*M-n*y-t*O)/1e3);w.value=e,D.value=n.toString().padStart(2,"0"),C.value=t.toString().padStart(2,"0"),I.value=r.toString().padStart(2,"0"),setTimeout(()=>{B()},1e3)},R=(s,e)=>{let n=0,t=0,r=0,g=0;const p=Math.max(l/s,c/e);return n=s*p,t=e*p,r=(l-n)/2,g=(c-t)/2,{dw:n,dh:t,dx:r,dy:g}},L=()=>{if(i.value&&x.length>0){const s=new Image;s.src=x[b.value],s.onload=()=>{const{dw:e,dh:n,dx:t,dy:r}=R(s.width,s.height);h.value.clearRect(0,0,l,c),h.value.drawImage(s,t,r,e,n),b.value<x.length-1?b.value++:b.value=0,setTimeout(()=>{L()},3e3)}}},S=()=>{_.value=new Array(8).fill(0).map(s=>({x:l/2-Math.random()*l,y:c/2-Math.random()*c}))},A=(s,e)=>{if(!u.value)return;const n=u.value.getContext("2d");n.save(),n.beginPath(),n.fillStyle=`rgba(247, 200, 207, ${d.value})`,n.translate(l/2-s,c/2-e),n.scale(d.value,-1*d.value),n.moveTo(0,0);let t=0,r=0,g=0,p=6;for(let j=0;j<30;j+=.2)t=j/Math.PI,r=p*(16*Math.sin(t)**3),g=p*(13*Math.cos(t)-5*Math.cos(2*t)-2*Math.cos(3*t)-Math.cos(4*t)),n.lineTo(r,g);n.fill(),n.closePath(),n.restore()},T=()=>{if(!u.value)return;u.value.getContext("2d").clearRect(0,0,l,c),_.value.map(e=>A(e.x,e.y)),setTimeout(()=>{d.value<.8?d.value+=.1:(d.value=0,S()),T()},100)};return P(()=>{i.value&&(i.value.width=l,i.value.height=c,h.value=i.value.getContext("2d"),L(),B()),u.value&&(u.value.width=l,u.value.height=c,S(),T())}),(s,e)=>(U(),Q("main",oe,[a("canvas",{ref_key:"canvas",ref:i},"你的浏览器不支持canvas",512),a("canvas",{ref_key:"effectCanvas",ref:u,class:"effect-canvas"},"你的浏览器不支持canvas",512),a("div",re,[a("p",null,[e[0]||(e[0]=v("相爱")),a("span",le,f(m(w)),1),e[1]||(e[1]=v("天"))]),e[6]||(e[6]=a("p",null,"愿余生都可四目相对",-1)),e[7]||(e[7]=a("p",null,"余生只有彼此",-1)),a("p",ce,[e[2]||(e[2]=v(" (")),a("span",ue,f(m(D)),1),e[3]||(e[3]=v("小时 ")),a("span",ie,f(m(C)),1),e[4]||(e[4]=v("分钟 ")),a("span",de,f(m(I)),1),e[5]||(e[5]=v("秒) "))])])]))}}),be=z(ve,[["__scopeId","data-v-baa966f4"]]);export{be as default};
