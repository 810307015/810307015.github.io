import{d as B,r as _,c as t,g as a,w as d,u as e,F as b,h as g,i as k,j as C,e as l,a as u,E as v,k as y,l as N,m as V,b as x,n as A,q as L,p as S,f as j,s as R,_ as F}from"./index-D2LKFD7X.js";const f=i=>(S("data-v-fecb85ee"),i=i(),j(),i),W=f(()=>u("div",{class:"header"},"使用rust的image包进行图片裁剪然后通过webassembly进行调用，直接对大尺寸图片进行等比例裁剪，图片越大，速度会表现得比原生js更快",-1)),q=f(()=>u("span",null,"需要裁剪成几行：",-1)),H=f(()=>u("span",null,"需要裁剪成几列：",-1)),M={key:0,class:"image-list"},O={class:"row"},T={class:"col"},z=B({__name:"Webassembly",setup(i){const c=_([]),n=_(2),s=_(2),E=h=>{h.raw.arrayBuffer().then(m=>{C(new Uint8Array(m),n.value,s.value).forEach(p=>{const w=new Blob([new Uint8Array(p)],{type:"image/png"});c.value.push(URL.createObjectURL(w))})})},I=()=>{c.value=[]};return(h,o)=>{const m=R;return l(),t("main",null,[W,a(e(N),{style:{"margin-bottom":"10px"}},{default:d(()=>[u("div",null,[q,a(e(v),{modelValue:e(n),"onUpdate:modelValue":o[0]||(o[0]=r=>y(n)?n.value=r:null),min:1,max:10},null,8,["modelValue"])]),u("div",null,[H,a(e(v),{modelValue:e(s),"onUpdate:modelValue":o[1]||(o[1]=r=>y(s)?s.value=r:null),min:1,max:10},null,8,["modelValue"])])]),_:1}),a(e(L),{action:"#","list-type":"picture","auto-upload":!1,limit:1,onChange:E},{default:d(()=>[a(e(V),null,{default:d(()=>[x("上传")]),_:1}),a(e(V),{onClick:A(I,["stop"])},{default:d(()=>[x("重置")]),_:1})]),_:1}),e(c).length?(l(),t("div",M,[(l(!0),t(b,null,g(new Array(e(n)).fill(0),(r,p)=>(l(),t("div",O,[(l(!0),t(b,null,g(new Array(e(s)).fill(0),(w,U)=>(l(),t("div",T,[a(m,{style:{width:"100px"},src:e(c)[p*e(s)+U],fit:"contain"},null,8,["src"])]))),256))]))),256))])):k("",!0)])}}}),G=F(z,[["__scopeId","data-v-fecb85ee"]]);export{G as default};
